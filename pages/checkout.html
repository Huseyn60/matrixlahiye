<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link rel="stylesheet" type="text/css" href="../assets/css/checkout.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
</head>
<body>
    <div class="wrapper">
        <div class="checkout-text">
        </div>




    
                <div class="card-details">
                    <label>Card details</label>
                    <div class="card-number">
                        <input type="text" maxlength="19" placeholder="4242 4242 4242 4242" />
                        <div>
                            <img src="https://img.icons8.com/color/48/000000/visa.png" height="20px" width="20px" />
                            <img src="https://img.icons8.com/color/48/000000/mastercard.png" height="20px" width="20px" />
                            <img src="https://img.icons8.com/color/48/000000/amex.png" height="20px" width="20px" />
                        </div>
                    </div>
                    <div class="card-info">
                        <div class="mm-yy">
                            <input type="text" maxlength="5" placeholder="MM / YY" />
                        </div>
                        <div class="cvc">
                            <input type="number" maxlength="3" placeholder="CVC" />
                            <img src="https://img.icons8.com/ios/50/000000/card-verification-value.png" height="20px" width="20px" />
                        </div>
                    </div>
                </div>
    
                <div class="owner-name">
                    <label>Owner name</label>
                    <input type="text" placeholder="Huseyn" />
                </div>
    
                <div class="country-region">
                    <label style="display: block;">Country or region</label>
                    <select style="display: block;">
                        <option>Azerbaijan</option>
                        <option>Turkiye </option>
                        <option>China</option>
                    </select>
                    <input type="number" placeholder="Zip code" />
                </div>
                
                <button type="button" class="btn btn-outline-info"><a style="text-decoration: none; color: inherit;" href="shop.html">buy</a></button>
            
            </div>
        </div>
        <script>
            const comingBasketData = JSON.parse(localStorage.getItem("basket"));
        
            if (!comingBasketData) {
                console.error("Sepet verisi tanımsız veya boş");
            } else {
                const checkoutTextDiv = document.querySelector(".checkout-text");
                const totalPrice = comingBasketData.reduce((acc, item) => acc + item.price, 0); // Calculate total price
        
                // Display the products in the checkout
                comingBasketData.forEach((item, index) => {
                    const productDiv = document.createElement("div");
                    productDiv.classList.add("product");
        
                    const productName = document.createElement("h4");
                    productName.textContent = item.title;
                    productDiv.appendChild(productName);
        
                    const productImage = document.createElement("img");
                    productImage.src = item.image;
                    productImage.alt = "Product Image";
                    productDiv.appendChild(productImage);
        
                    const productPrice = document.createElement("p");
                    productPrice.textContent = item.price + "$";
                    productDiv.appendChild(productPrice);
        
                    checkoutTextDiv.appendChild(productDiv);
                });
        
                // Format card number input
                const cardNumberInput = document.querySelector('.card-number input');
                cardNumberInput.addEventListener('input', function (e) {
                    let value = e.target.value.replace(/\s/g, '');
                    value = value.replace(/(.{4})/g, '$1 ');
                    e.target.value = value.trim();
                });
        
                // Handle buy button click event
                const buyButton = document.querySelector(".btn.btn-outline-info a");
                buyButton.addEventListener("click", function() {
                    // Simulate payment success message
                    alert("Payment was successful!");
                    // Redirect to shop.html
                    window.location.href = "shop.html";
                });
            }
        </script>
        
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>